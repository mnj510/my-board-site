# 🌐 모든 기기에서 동일한 데이터 접근 가이드

## ✅ 현재 설정 완료

### 데이터 저장 위치
- **NAS 경로**: `/Volumes/site/data/database.db`
- **실제 저장**: Synology NAS의 `site` 공유 폴더
- **저장 상태**: ✅ 정상 저장 중

### 서버 접속 정보
- **서버 IP**: `192.168.219.46`
- **로컬 접속**: `http://localhost:3000`
- **네트워크 접속**: `http://192.168.219.46:3000`

## 📱 다른 기기에서 접속하는 방법

### 같은 네트워크(Wi-Fi)에 연결된 모든 기기에서:

1. **스마트폰/태블릿**:
   ```
   http://192.168.219.46:3000
   ```

2. **다른 컴퓨터**:
   ```
   http://192.168.219.46:3000
   ```

3. **서버 컴퓨터(Mac mini)에서**:
   ```
   http://localhost:3000
   또는
   http://192.168.219.46:3000
   ```

## ✅ 확인 사항

### 모든 기기에서 동일한 데이터를 보는지 확인:

1. **서버 컴퓨터에서**:
   - 게시글 작성
   - 댓글 작성
   - 회원가입

2. **다른 기기에서**:
   - `http://192.168.219.46:3000` 접속
   - 작성한 게시글과 댓글이 보이는지 확인
   - 같은 계정으로 로그인 가능한지 확인

## 🔧 문제 해결

### 다른 기기에서 접속이 안 될 때:

1. **서버가 실행 중인지 확인**:
   ```bash
   # 서버 컴퓨터에서
   lsof -ti:3000
   ```

2. **같은 네트워크에 연결되어 있는지 확인**:
   - 모든 기기가 같은 Wi-Fi에 연결되어 있어야 함

3. **방화벽 설정 확인** (필요시):
   - macOS 시스템 설정 > 네트워크 > 방화벽
   - 포트 3000 허용

4. **서버 재시작**:
   ```bash
   cd /Users/nj/Downloads/site2
   npm run dev
   ```

### 데이터가 다를 때:

- ❌ **문제**: 서버를 여러 곳에서 실행하고 있음
- ✅ **해결**: 서버를 한 곳(현재 Mac mini)에서만 실행
- ✅ **확인**: 다른 컴퓨터에서는 서버를 실행하지 말고, 네트워크 주소로만 접속

## 📊 데이터 동기화 원리

### 현재 구조:
```
[다른 기기들] ──네트워크──> [Mac mini 서버] ──NAS 마운트──> [Synology NAS]
                              (192.168.219.46)              (site/data/database.db)
```

- 모든 기기 → 같은 서버 접속
- 서버 → NAS의 단일 데이터베이스 사용
- 결과: 모든 기기에서 동일한 데이터 확인

## 🚀 서버를 항상 실행하기

서버를 끄지 않고 항상 실행하려면:

### 방법 1: 터미널을 열어두기
- 터미널 창을 닫지 않고 계속 실행

### 방법 2: 백그라운드 실행
```bash
nohup npm run dev > server.log 2>&1 &
```

### 방법 3: PM2 사용 (추천)
```bash
npm install -g pm2
pm2 start npm --name "site2" -- run dev
pm2 save
pm2 startup
```

## ✅ 최종 확인

- [x] 데이터는 NAS에 저장됨
- [x] 서버는 네트워크에서 접속 가능하도록 설정됨
- [ ] 다른 기기에서 접속 테스트
- [ ] 데이터 동기화 확인

**모든 기기에서 `http://192.168.219.46:3000`으로 접속하면 동일한 데이터를 볼 수 있습니다!**

